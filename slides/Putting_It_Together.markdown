<% code :lang => "shell-unix-generic" do %>puppet --modulepath repo/modules repo/manifests/site.pp<% end %>

You now have a "complete" Puppet repository, ready to extend.
